<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
</head>
<body>

<script>
  var num = 1; // 3 5
  var obj = {num: 2}; // 4
  obj.fn = (function (num) {
    // num 1 0 -1 0 -1 0
    this.num += 2;
    num--;
    return function (n) {
      // fn(1) n 1
      // fn(2) n 2
      this.num += 2;
      num--;
      console.log(n + ++num);
    };
  })(this.num);

  var fn = obj.fn;
  fn(1); // 1
  obj.fn(2); // 2
  console.log(num, obj.num); // 5, 4
</script>
</body>
</html>