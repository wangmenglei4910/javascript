<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>s</title>
</head>
<body>

<script>
  var num = 5; // 6 7
  var obj = {
    num: 4, // 5 6
    fn: (function (num) {
      // num undefined NaN 2 3 4 5
      num++;
      this.num++;
      var num = 2;
      return function () {
        num++;
        this.num++;
        console.log(num);
      };
    })()
  };

  var fn = obj.fn;
  fn(); // 3
  obj.fn(); // 4
  obj.fn(); // 5

  console.log(this.num, obj.num); // 7 6
</script>
</body>
</html>